<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¿Ÿå·å³¶æ—…ç¨‹è¦åŠƒ (æœ€çµ‚ç‰ˆ)</title>
    <!-- è¼‰å…¥ Tailwind CSS ç¢ºä¿ä»‹é¢ç¾è§€ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ç¢ºä¿å­—é«”å’ŒåŸºæœ¬é¡¯ç¤º */
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- React æ‡‰ç”¨ç¨‹å¼çš„æ ¹å…ƒç´  -->
    <div id="root" class="max-w-4xl mx-auto p-4 sm:p-6 lg:p-8">
        <!-- æ‡‰ç”¨ç¨‹å¼å°‡æœƒæ¸²æŸ“åœ¨é€™è£¡ -->
    </div>
    
    <!-- è¼‰å…¥æ‰€æœ‰è…³æœ¬å’Œé‚è¼¯ -->
    
    <!-- 1. è¼‰å…¥ React å’Œ ReactDOM å‡½å¼åº« (ç”¨æ–¼å‰µå»º UI) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- 2. è¼‰å…¥ Babel æ‰èƒ½åœ¨ç€è¦½å™¨ä¸­é‹è¡Œ JSX (React èªæ³•) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- 3. React æ‡‰ç”¨ç¨‹å¼é‚è¼¯ (JSX å¯«åœ¨ <script> æ¨™ç±¤å…§) -->
    <script type="text/babel">
        // ç¢ºä¿ React Hook å¼•å…¥
        const { useState } = React;

        // åˆå§‹çš„æ—…ç¨‹è³‡æ–™ï¼šé€™å°±æ˜¯æ‚¨è¦æ‰¾çš„å…§å®¹
        const initialItinerary = [
            { id: 1, day: 1, location: "æ¿Ÿå·åœ‹éš›æ©Ÿå ´ (Jeju International Airport)", notes: "ç§Ÿè»Šï¼Œå‰å¾€æ¿Ÿå·å¸‚å€é…’åº—" },
            { id: 2, day: 1, location: "æ±é–€å¸‚å ´", notes: "å“åšé»‘è±¬è‚‰ä¸²å’Œç•¶åœ°å°åƒ" },
            { id: 3, day: 2, location: "åŸå±±æ—¥å‡ºå³° (Seongsan Ilchulbong)", notes: "æ¸…æ™¨çˆ¬å±±è§€æ—¥å‡º" },
            { id: 4, day: 2, location: "æ¶‰åœ°å²¬ (Seopjikoji)", notes: "æµ·å²¸æ•£æ­¥èˆ‡ç‡ˆå¡”" },
        ];

        const App = () => {
            const [itinerary, setItinerary] = useState(initialItinerary);
            const [newLocation, setNewLocation] = useState('');
            const [newDay, setNewDay] = useState(1);
            const [newNotes, setNewNotes] = useState('');
            const [nextId, setNextId] = useState(initialItinerary.length + 1);

            // è™•ç†æ–°å¢è¡Œç¨‹
            const handleAddItem = (e) => {
                e.preventDefault();
                if (!newLocation.trim()) return;

                const newItem = {
                    id: nextId,
                    day: parseInt(newDay),
                    location: newLocation.trim(),
                    notes: newNotes.trim()
                };
                
                // æ–°å¢å¾Œä¸¦ä¾å¤©æ•¸æ’åº
                setItinerary([...itinerary, newItem].sort((a, b) => a.day - b.day));
                setNextId(nextId + 1);
                
                // é‡è¨­è¡¨å–®
                setNewLocation('');
                setNewNotes('');
                setNewDay(1);
            };

            // è™•ç†åˆªé™¤è¡Œç¨‹
            const handleDeleteItem = (id) => {
                setItinerary(itinerary.filter(item => item.id !== id));
            };

            // æ ¹æ“šå¤©æ•¸åˆ†çµ„è¡Œç¨‹
            const groupedItinerary = itinerary.reduce((acc, item) => {
                (acc[item.day] = acc[item.day] || []).push(item);
                return acc;
            }, {});

            // å–å¾—å·²è¦åŠƒçš„ç¸½å¤©æ•¸
            const days = Object.keys(groupedItinerary).map(Number).sort((a, b) => a - b);

            return (
                <div className="bg-white shadow-xl rounded-xl p-6 space-y-8">
                    <h1 className="text-4xl font-extrabold text-blue-800 border-b-4 border-blue-200 pb-3 mb-6">
                        ğŸŒ´ æ¿Ÿå·å³¶æ¥µç°¡æ—…ç¨‹è¦åŠƒ
                    </h1>
                    
                    {/* 1. æ–°å¢è¡Œç¨‹è¡¨å–® */}
                    <div className="border border-gray-200 p-4 rounded-lg bg-blue-50">
                        <h2 className="text-xl font-semibold text-blue-700 mb-4">æ–°å¢è¡Œç¨‹é …ç›®</h2>
                        <form onSubmit={handleAddItem} className="space-y-4">
                            <div className="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                <input
                                    type="number"
                                    min="1"
                                    value={newDay}
                                    onChange={(e) => setNewDay(e.target.value)}
                                    placeholder="å¤©æ•¸ (Day)"
                                    required
                                    className="p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"
                                />
                                <input
                                    type="text"
                                    value={newLocation}
                                    onChange={(e) => setNewLocation(e.target.value)}
                                    placeholder="åœ°é»åç¨± (Location)"
                                    required
                                    className="col-span-1 sm:col-span-2 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"
                                />
                            </div>
                            <input
                                type="text"
                                value={newNotes}
                                onChange={(e) => setNewNotes(e.target.value)}
                                placeholder="å‚™è¨»/æ´»å‹• (Notes/Activity)"
                                className="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"
                            />
                            <button
                                type="submit"
                                className="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition duration-200 shadow-md"
                            >
                                + åŠ å…¥è¡Œç¨‹
                            </button>
                        </form>
                    </div>

                    {/* 2. è¡Œç¨‹é¡¯ç¤ºå€åŸŸ */}
                    <div className="space-y-6">
                        <h2 className="text-2xl font-bold text-gray-800 pt-4 border-t-2 border-gray-100">æˆ‘çš„å®Œæ•´è¡Œç¨‹</h2>
                        
                        {days.length === 0 ? (
                            <p className="text-gray-500 italic p-4 bg-gray-100 rounded-lg text-center">ç›®å‰æ²’æœ‰ä»»ä½•è¡Œç¨‹ï¼Œè«‹æ–°å¢ç¬¬ä¸€ç­†ï¼</p>
                        ) : (
                            days.map(day => (
                                <div key={day} className="bg-white border border-gray-300 rounded-xl shadow-lg">
                                    {/* å¤©æ•¸æ¨™é¡Œ */}
                                    <div className="bg-gradient-to-r from-green-500 to-green-600 text-white p-4 rounded-t-xl">
                                        <h3 className="text-xl font-extrabold">ç¬¬ {day} å¤© (Day {day}) â˜€ï¸</h3>
                                    </div>
                                    
                                    {/* è¡Œç¨‹åˆ—è¡¨ */}
                                    <ul className="divide-y divide-gray-200">
                                        {groupedItinerary[day].map(item => (
                                            <li key={item.id} className="p-4 flex justify-between items-start hover:bg-green-50 transition duration-150">
                                                <div className="flex-1 min-w-0 pr-4">
                                                    <p className="text-lg font-semibold text-gray-800">{item.location}</p>
                                                    {item.notes && (
                                                        <p className="text-sm text-gray-600 truncate italic">å‚™è¨»ï¼š{item.notes}</p>
                                                    )}
                                                </div>
                                                <button
                                                    onClick={() => handleDeleteItem(item.id)}
                                                    className="flex-shrink-0 bg-red-100 text-red-600 hover:bg-red-200 text-sm font-medium py-1 px-3 rounded-full transition duration-150"
                                                >
                                                    åˆªé™¤
                                                </button>
                                            </li>
                                        ))}
                                    </ul>
                                </div>
                            ))
                        )}
                    </div>
                </div>
            );
        };
        
        // æ¸²æŸ“ App å…ƒä»¶åˆ°é é¢
        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(React.createElement(App, null));
    </script>
</body>
</html>
